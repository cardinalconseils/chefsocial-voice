(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{6841:function(e,t,a){Promise.resolve().then(a.bind(a,1944))},1944:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return p}});var s=a(7437),r=a(2265),n=a(9376),i=a(9116),o=a(9064),l=a(9763);let c=(0,l.Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),d=(0,l.Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),m=(0,l.Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),u=(0,l.Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),h=(0,l.Z)("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);function x(){let e=(0,n.useRouter)(),[t,a]=(0,r.useState)({email:"",password:""}),[l,x]=(0,r.useState)(!1),[p,g]=(0,r.useState)(!1),f=async a=>{a.preventDefault(),g(!0);try{let a=await i.kv.login(t.email,t.password);a.success?(localStorage.setItem("admin_token",a.token),localStorage.setItem("admin_user",JSON.stringify(a.admin)),o.ZP.success("Login successful!"),e.push("/dashboard")):o.ZP.error("Login failed")}catch(t){var s,r;console.error("Login error:",t);let e=(null===(r=t.response)||void 0===r?void 0:null===(s=r.data)||void 0===s?void 0:s.error)||"Login failed. Please try again.";o.ZP.error(e)}finally{g(!1)}},y=e=>{a({...t,[e.target.name]:e.target.value})};return(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-chef-orange to-orange-600 flex items-center justify-center px-4",children:(0,s.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("div",{className:"mx-auto h-16 w-16 bg-chef-orange rounded-full flex items-center justify-center mb-4",children:(0,s.jsx)(c,{className:"h-8 w-8 text-white"})}),(0,s.jsx)("h2",{className:"text-3xl font-bold text-chef-dark",children:"ChefSocial Admin"}),(0,s.jsx)("p",{className:"text-gray-600 mt-2",children:"Sign in to your admin account"})]}),(0,s.jsxs)("form",{onSubmit:f,className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email Address"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,s.jsx)(d,{className:"h-5 w-5 text-gray-400"})}),(0,s.jsx)("input",{id:"email",name:"email",type:"email",required:!0,className:"form-input pl-10",placeholder:"admin@chefsocial.io",value:t.email,onChange:y,disabled:p})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,s.jsx)(c,{className:"h-5 w-5 text-gray-400"})}),(0,s.jsx)("input",{id:"password",name:"password",type:l?"text":"password",required:!0,className:"form-input pl-10 pr-10",placeholder:"Enter your password",value:t.password,onChange:y,disabled:p}),(0,s.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>x(!l),children:l?(0,s.jsx)(m,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):(0,s.jsx)(u,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]})]}),(0,s.jsx)("button",{type:"submit",disabled:p,className:"w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-white font-medium transition-colors ".concat(p?"bg-gray-400 cursor-not-allowed":"bg-chef-orange hover:bg-orange-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-chef-orange"),children:p?(0,s.jsx)("div",{className:"loading-spin w-5 h-5 border-2 border-white border-t-transparent rounded-full"}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(h,{className:"h-5 w-5 mr-2"}),"Sign In"]})})]}),(0,s.jsx)("div",{className:"mt-6 text-center",children:(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"This is a secure admin area. All activities are logged and monitored."})})]}),(0,s.jsx)("div",{className:"text-center",children:(0,s.jsx)("p",{className:"text-white text-sm opacity-80",children:"\xa9 2024 ChefSocial. All rights reserved."})})]})})}function p(){let e=(0,n.useRouter)();return(0,r.useEffect)(()=>{i.kv.isAuthenticated()&&e.push("/dashboard")},[e]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(x,{}),(0,s.jsx)(o.x7,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,iconTheme:{primary:"#27AE60",secondary:"#fff"}},error:{duration:5e3,iconTheme:{primary:"#E74C3C",secondary:"#fff"}}}})]})}},9116:function(e,t,a){"use strict";a.d(t,{kv:function(){return r},n9:function(){return n}});let s=a(3464).Z.create({baseURL:"https://api.chefsocial.io",timeout:3e4,headers:{"Content-Type":"application/json"}});s.interceptors.request.use(e=>{{let t=localStorage.getItem("admin_token");t&&(e.headers.Authorization="Bearer ".concat(t))}return e},e=>Promise.reject(e)),s.interceptors.response.use(e=>e,e=>{var t;return(null===(t=e.response)||void 0===t?void 0:t.status)===401&&(localStorage.removeItem("admin_token"),localStorage.removeItem("admin_user"),window.location.href="/login"),Promise.reject(e)});let r={login:async(e,t)=>(await s.post("/api/admin/auth/login",{email:e,password:t})).data,logout:()=>{localStorage.removeItem("admin_token"),localStorage.removeItem("admin_user")},getCurrentUser:()=>{let e=localStorage.getItem("admin_user");return e?JSON.parse(e):null},isAuthenticated:()=>!!localStorage.getItem("admin_token")},n={getAnalytics:async e=>(await s.get("/api/admin/analytics",{params:{period:e}})).data,getUsageReports:async(e,t)=>(await s.get("/api/admin/usage-reports",{params:{period:e,userId:t}})).data}}},function(e){e.O(0,[301,368,971,117,744],function(){return e(e.s=6841)}),_N_E=e.O()}]);